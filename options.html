<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HTTPè¯·æ±‚é…ç½® - æ™ºèƒ½æˆªå›¾ä¸Šä¼ åŠ©æ‰‹</title>
  <link rel="stylesheet" href="styles/options.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>âš™ï¸ HTTPè¯·æ±‚é…ç½®</h1>
      <p class="subtitle">é…ç½®æˆªå›¾ä¸Šä¼ çš„HTTPè¯·æ±‚å‚æ•°</p>
    </header>
    
    <div class="config-tabs">
      <button class="tab-btn active" data-tab="manual">æ‰‹åŠ¨é…ç½®</button>
      <button class="tab-btn" data-tab="curl">å¯¼å…¥cURL</button>
    </div>
    
    <!-- æ‰‹åŠ¨é…ç½® Tab -->
    <div id="manualTab" class="tab-content active">
      <form id="httpConfigForm">
        <div class="form-section">
          <h3>åŸºç¡€è®¾ç½®</h3>
          
          <div class="form-group">
            <label for="requestMethod">è¯·æ±‚æ–¹æ³•</label>
            <select id="requestMethod" required>
              <option value="GET">GET</option>
              <option value="POST" selected>POST</option>
              <option value="PUT">PUT</option>
              <option value="PATCH">PATCH</option>
              <option value="DELETE">DELETE</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="requestUrl">ç›®æ ‡URL *</label>
            <input type="url" id="requestUrl" placeholder="https://api.example.com/upload" required>
          </div>
          
          <div class="form-group">
            <label for="contentType">Content-Type</label>
            <select id="contentType">
              <option value="application/json">application/json</option>
              <option value="multipart/form-data">multipart/form-data</option>
              <option value="application/x-www-form-urlencoded">application/x-www-form-urlencoded</option>
              <option value="custom">è‡ªå®šä¹‰</option>
            </select>
          </div>
          
          <div class="form-group" id="customContentTypeGroup" style="display: none;">
            <label for="customContentType">è‡ªå®šä¹‰Content-Type</label>
            <input type="text" id="customContentType" placeholder="application/octet-stream">
          </div>
          
          <div class="form-group">
            <label for="imageParamName">æˆªå›¾æ•°æ®å‚æ•°å</label>
            <input type="text" id="imageParamName" placeholder="image æˆ–ç•™ç©ºä½¿ç”¨å ä½ç¬¦" value="image">
            <small>å¯é€‰ã€‚å¦‚æœä½¿ç”¨å ä½ç¬¦æ–¹å¼ï¼ˆè§ä¸‹æ–¹ï¼‰ï¼Œæ­¤é¡¹å¯ç•™ç©º</small>
          </div>
          
          <div class="form-group">
            <label>å ä½ç¬¦è¯´æ˜</label>
            <div class="placeholder-help">
              <p>åœ¨è¯·æ±‚ä½“å‚æ•°çš„å€¼ä¸­ä½¿ç”¨ä»¥ä¸‹å ä½ç¬¦ï¼Œä¼šè‡ªåŠ¨æ›¿æ¢ä¸ºæˆªå›¾æ•°æ®ï¼š</p>
              <ul>
                <li><code>{{image}}</code> - å®Œæ•´çš„ data:image/png;base64,... æ ¼å¼</li>
                <li><code>{{imageBase64}}</code> - çº¯Base64å­—ç¬¦ä¸²ï¼ˆä¸å«å‰ç¼€ï¼‰</li>
                <li><code>{{imageName}}</code> - æ–‡ä»¶åï¼ˆscreenshot-æ—¶é—´æˆ³.pngï¼‰</li>
                <li><code>{{timestamp}}</code> - å½“å‰æ—¶é—´æˆ³</li>
              </ul>
              <p class="example">ç¤ºä¾‹ï¼šåœ¨å‚æ•°å€¼ä¸­å¡«å†™ <code>{"url": "{{image}}", "name": "{{imageName}}"}</code></p>
            </div>
          </div>
          
          <div class="form-group">
            <label for="timeout">è¯·æ±‚è¶…æ—¶ (ç§’)</label>
            <input type="number" id="timeout" value="30" min="5" max="300">
          </div>
        </div>
        
        <div class="form-section">
          <h3>è¯·æ±‚å¤´ (Headers)</h3>
          <div id="headersContainer">
            <!-- åŠ¨æ€æ·»åŠ çš„Headerè¡Œ -->
          </div>
          <button type="button" id="addHeader" class="btn btn-secondary">+ æ·»åŠ Header</button>
        </div>
        
        <div class="form-section">
          <h3>è¯·æ±‚ä½“å‚æ•° (Body Parameters)</h3>
          <small class="hint">æ”¯æŒå ä½ç¬¦ï¼š{{image}}, {{imageBase64}}, {{imageName}}, {{timestamp}}</small>
          <div id="bodyParamsContainer">
            <!-- åŠ¨æ€æ·»åŠ çš„å‚æ•°è¡Œ -->
          </div>
          <button type="button" id="addBodyParam" class="btn btn-secondary">+ æ·»åŠ å‚æ•°</button>
        </div>
        
        <div class="form-actions">
          <button type="submit" class="btn btn-primary">ğŸ’¾ ä¿å­˜é…ç½®</button>
          <button type="button" id="testConfig" class="btn btn-secondary">ğŸ§ª æµ‹è¯•é…ç½®</button>
          <button type="button" id="resetConfig" class="btn btn-danger">ğŸ”„ é‡ç½®ä¸ºé»˜è®¤</button>
        </div>
      </form>
    </div>
    
    <!-- cURLå¯¼å…¥ Tab -->
    <div id="curlTab" class="tab-content">
      <div class="curl-section">
        <h3>ç²˜è´´cURLå‘½ä»¤</h3>
        <textarea id="curlInput" placeholder="curl -X POST 'https://api.example.com/upload' \
  -H 'Authorization: Bearer token' \
  -H 'Content-Type: application/json' \
  -d '{&quot;key&quot;: &quot;value&quot;}'"></textarea>
        <button id="parseCurl" class="btn btn-primary">ğŸ“¥ è§£æå¹¶å¯¼å…¥</button>
        <div id="curlParseResult" class="parse-result"></div>
      </div>
    </div>
    
    <div id="statusMessage" class="status-message"></div>
  </div>
  
  <script src="utils/curl-parser.js"></script>
  <script src="options.js"></script>
</body>
</html>
